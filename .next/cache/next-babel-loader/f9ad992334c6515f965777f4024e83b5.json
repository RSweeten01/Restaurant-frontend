{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rswee\\\\MITxPro\\\\Restaurant-App2\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* /pages/login.js */\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { login } from '../components/auth';\nimport AppContext from '../components/context';\n\nfunction Login(props) {\n  const {\n    0: data,\n    1: updateData\n  } = useState({\n    identifier: '',\n    password: ''\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const router = useRouter();\n  const appContext = useContext(AppContext);\n  useEffect(() => {\n    if (appContext.isAuthenticated) {\n      router.push('/'); // redirect if you're already logged in\n    }\n  }, []);\n\n  function onChange(event) {\n    updateData(_objectSpread(_objectSpread({}, data), {}, {\n      [event.target.name]: event.target.value\n    }));\n  }\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }, __jsx(Col, {\n    sm: \"12\",\n    md: {\n      size: 5,\n      offset: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3003323383\" + \" \" + 'paper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3003323383\" + \" \" + 'header',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    style: {\n      background: '#219693',\n      borderRadius: '45%',\n      width: '35%',\n      margin: '0 auto',\n      height: null // display: 'block',\n\n    },\n    src: \"http://localhost:1337/uploads/1184519ce10743f6904c8b435c801535.png\",\n    className: \"jsx-3003323383\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 8\n    }\n  })), __jsx(\"section\", {\n    className: \"jsx-3003323383\" + \" \" + 'wrapper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, Object.entries(error).length !== 0 && error.constructor === Object && error.message.map(error => {\n    return __jsx(\"div\", {\n      key: error.messages[0].id,\n      style: {\n        marginBottom: 10\n      },\n      className: \"jsx-3003323383\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, __jsx(\"small\", {\n      style: {\n        color: 'red'\n      },\n      className: \"jsx-3003323383\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }\n    }, error.messages[0].message));\n  }), __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }\n  }, __jsx(\"fieldset\", {\n    disabled: loading,\n    className: \"jsx-3003323383\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Email:\"), __jsx(Input, {\n    onChange: event => onChange(event),\n    name: \"identifier\",\n    style: {\n      height: 50,\n      fontSize: '1.2em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), __jsx(FormGroup, {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Password:\"), __jsx(Input, {\n    onChange: event => onChange(event),\n    type: \"password\",\n    name: \"password\",\n    style: {\n      height: 50,\n      fontSize: '1.2em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 10\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-3003323383\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    className: \"jsx-3003323383\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }\n  }, __jsx(\"small\", {\n    className: \"jsx-3003323383\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Forgot Password?\"))), __jsx(Button, {\n    style: {\n      float: 'right',\n      width: 120\n    },\n    color: \"primary\",\n    onClick: () => {\n      setLoading(true);\n      login(data.identifier, data.password).then(res => {\n        setLoading(false); // set authed User in global context to update header/app state\n\n        appContext.setUser(res.data.user);\n      }).catch(error => {\n        //setError(error.response.data);\n        setLoading(false);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, loading ? 'Loading... ' : 'Submit')))))))), __jsx(_JSXStyle, {\n    id: \"3003323383\",\n    __self: this\n  }, \".paper.jsx-3003323383{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}.notification.jsx-3003323383{color:#ab003c;}.header.jsx-3003323383{width:100%;height:120px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;}.wrapper.jsx-3003323383{padding:10px 30px 20px 30px !important;}a.jsx-3003323383{color:blue !important;}img.jsx-3003323383{margin:15px 30px 10px 50px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccnN3ZWVcXE1JVHhQcm9cXFJlc3RhdXJhbnQtQXBwMlxccGFnZXNcXGxvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1ISyxBQUdrQyxBQU9iLEFBR0gsQUFPNEIsQUFHakIsQUFHSyxXQVpkLEdBSGQsUUFhQSxFQVQwQixHQVZpRCxBQXNCM0UsWUFOQSxVQUxvQixtQkFDRyxzQkFDdkIsZ0RBWm1CLGtCQUNGLGdCQUNqQiIsImZpbGUiOiJDOlxcVXNlcnNcXHJzd2VlXFxNSVR4UHJvXFxSZXN0YXVyYW50LUFwcDJcXHBhZ2VzXFxsb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC9wYWdlcy9sb2dpbi5qcyAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7XG5cdENvbnRhaW5lcixcblx0Um93LFxuXHRDb2wsXG5cdEJ1dHRvbixcblx0Rm9ybSxcblx0Rm9ybUdyb3VwLFxuXHRMYWJlbCxcblx0SW5wdXQsXG59IGZyb20gJ3JlYWN0c3RyYXAnO1xuaW1wb3J0IHsgbG9naW4gfSBmcm9tICcuLi9jb21wb25lbnRzL2F1dGgnO1xuaW1wb3J0IEFwcENvbnRleHQgZnJvbSAnLi4vY29tcG9uZW50cy9jb250ZXh0JztcblxuZnVuY3Rpb24gTG9naW4ocHJvcHMpIHtcblx0Y29uc3QgW2RhdGEsIHVwZGF0ZURhdGFdID0gdXNlU3RhdGUoeyBpZGVudGlmaWVyOiAnJywgcGFzc3dvcmQ6ICcnIH0pO1xuXHRjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblx0Y29uc3QgYXBwQ29udGV4dCA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoYXBwQ29udGV4dC5pc0F1dGhlbnRpY2F0ZWQpIHtcblx0XHRcdHJvdXRlci5wdXNoKCcvJyk7IC8vIHJlZGlyZWN0IGlmIHlvdSdyZSBhbHJlYWR5IGxvZ2dlZCBpblxuXHRcdH1cblx0fSwgW10pO1xuXG5cdGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG5cdFx0dXBkYXRlRGF0YSh7IC4uLmRhdGEsIFtldmVudC50YXJnZXQubmFtZV06IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PENvbnRhaW5lcj5cblx0XHRcdDxSb3c+XG5cdFx0XHRcdDxDb2wgc209JzEyJyBtZD17eyBzaXplOiA1LCBvZmZzZXQ6IDMgfX0+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3BhcGVyJz5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdoZWFkZXInPlxuXHRcdFx0XHRcdFx0XHQ8aW1nXG5cdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6ICcjMjE5NjkzJyxcblx0XHRcdFx0XHRcdFx0XHRcdGJvcmRlclJhZGl1czogJzQ1JScsXG5cdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogJzM1JScsXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW46ICcwIGF1dG8nLFxuXHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRcdHNyYz0naHR0cDovL2xvY2FsaG9zdDoxMzM3L3VwbG9hZHMvMTE4NDUxOWNlMTA3NDNmNjkwNGM4YjQzNWM4MDE1MzUucG5nJ1xuXHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8c2VjdGlvbiBjbGFzc05hbWU9J3dyYXBwZXInPlxuXHRcdFx0XHRcdFx0XHR7T2JqZWN0LmVudHJpZXMoZXJyb3IpLmxlbmd0aCAhPT0gMCAmJlxuXHRcdFx0XHRcdFx0XHRcdGVycm9yLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiZcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlLm1hcCgoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYga2V5PXtlcnJvci5tZXNzYWdlc1swXS5pZH0gc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxMCB9fT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c21hbGwgc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19PntlcnJvci5tZXNzYWdlc1swXS5tZXNzYWdlfTwvc21hbGw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9KX1cblx0XHRcdFx0XHRcdFx0PEZvcm0+XG5cdFx0XHRcdFx0XHRcdFx0PGZpZWxkc2V0IGRpc2FibGVkPXtsb2FkaW5nfT5cblx0XHRcdFx0XHRcdFx0XHRcdDxGb3JtR3JvdXA+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbD5FbWFpbDo8L0xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZShldmVudCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZT0naWRlbnRpZmllcidcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBoZWlnaHQ6IDUwLCBmb250U2l6ZTogJzEuMmVtJyB9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9Gb3JtR3JvdXA+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8Rm9ybUdyb3VwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMzAgfX0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbD5QYXNzd29yZDo8L0xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZShldmVudCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZT0ncGFzc3dvcmQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZT0ncGFzc3dvcmQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3sgaGVpZ2h0OiA1MCwgZm9udFNpemU6ICcxLjJlbScgfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHRcdDwvRm9ybUdyb3VwPlxuXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Rm9ybUdyb3VwPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPScnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNtYWxsPkZvcmdvdCBQYXNzd29yZD88L3NtYWxsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvYT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3sgZmxvYXQ6ICdyaWdodCcsIHdpZHRoOiAxMjAgfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcj0ncHJpbWFyeSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRMb2FkaW5nKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9naW4oZGF0YS5pZGVudGlmaWVyLCBkYXRhLnBhc3N3b3JkKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQudGhlbigocmVzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gc2V0IGF1dGhlZCBVc2VyIGluIGdsb2JhbCBjb250ZXh0IHRvIHVwZGF0ZSBoZWFkZXIvYXBwIHN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXBwQ29udGV4dC5zZXRVc2VyKHJlcy5kYXRhLnVzZXIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9zZXRFcnJvcihlcnJvci5yZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtsb2FkaW5nID8gJ0xvYWRpbmcuLi4gJyA6ICdTdWJtaXQnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvRm9ybUdyb3VwPlxuXHRcdFx0XHRcdFx0XHRcdDwvZmllbGRzZXQ+XG5cdFx0XHRcdFx0XHRcdDwvRm9ybT5cblx0XHRcdFx0XHRcdDwvc2VjdGlvbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9Db2w+XG5cdFx0XHQ8L1Jvdz5cblx0XHRcdDxzdHlsZSBqc3g+XG5cdFx0XHRcdHtgXG5cdFx0XHRcdFx0LnBhcGVyIHtcblx0XHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcblx0XHRcdFx0XHRcdGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDBweCByZ2JhKDAsIDAsIDAsIDAuMiksXG5cdFx0XHRcdFx0XHRcdDBweCAxcHggMXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwcHggMnB4IDFweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XG5cdFx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiA2cHg7XG5cdFx0XHRcdFx0XHRtYXJnaW4tdG9wOiA5MHB4O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQubm90aWZpY2F0aW9uIHtcblx0XHRcdFx0XHRcdGNvbG9yOiAjYWIwMDNjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuaGVhZGVyIHtcblx0XHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0XHRcdFx0aGVpZ2h0OiAxMjBweDtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICMyMTk2ZjM7XG5cdFx0XHRcdFx0XHRtYXJnaW4tYm90dG9tOiAzMHB4O1xuXHRcdFx0XHRcdFx0Ym9yZGVyLXJhZGl1cy10b3A6IDZweDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LndyYXBwZXIge1xuXHRcdFx0XHRcdFx0cGFkZGluZzogMTBweCAzMHB4IDIwcHggMzBweCAhaW1wb3J0YW50O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhIHtcblx0XHRcdFx0XHRcdGNvbG9yOiBibHVlICFpbXBvcnRhbnQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGltZyB7XG5cdFx0XHRcdFx0XHRtYXJnaW46IDE1cHggMzBweCAxMHB4IDUwcHg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRgfVxuXHRcdFx0PC9zdHlsZT5cblx0XHQ8L0NvbnRhaW5lcj5cblx0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW47XG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\rswee\\\\\\\\MITxPro\\\\\\\\Restaurant-App2\\\\\\\\pages\\\\\\\\login.js */\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/rswee/MITxPro/Restaurant-App2/pages/login.js"],"names":["React","useState","useEffect","useContext","useRouter","Container","Row","Col","Button","Form","FormGroup","Label","Input","login","AppContext","Login","props","data","updateData","identifier","password","loading","setLoading","error","setError","router","appContext","isAuthenticated","push","onChange","event","target","name","value","size","offset","background","borderRadius","width","margin","height","Object","entries","length","constructor","message","map","messages","id","marginBottom","color","fontSize","float","then","res","setUser","user","catch"],"mappings":"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","sourcesContent":["/* /pages/login.js */\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport {\n\tContainer,\n\tRow,\n\tCol,\n\tButton,\n\tForm,\n\tFormGroup,\n\tLabel,\n\tInput,\n} from 'reactstrap';\nimport { login } from '../components/auth';\nimport AppContext from '../components/context';\n\nfunction Login(props) {\n\tconst [data, updateData] = useState({ identifier: '', password: '' });\n\tconst [loading, setLoading] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst router = useRouter();\n\tconst appContext = useContext(AppContext);\n\n\tuseEffect(() => {\n\t\tif (appContext.isAuthenticated) {\n\t\t\trouter.push('/'); // redirect if you're already logged in\n\t\t}\n\t}, []);\n\n\tfunction onChange(event) {\n\t\tupdateData({ ...data, [event.target.name]: event.target.value });\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row>\n\t\t\t\t<Col sm='12' md={{ size: 5, offset: 3 }}>\n\t\t\t\t\t<div className='paper'>\n\t\t\t\t\t\t<div className='header'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackground: '#219693',\n\t\t\t\t\t\t\t\t\tborderRadius: '45%',\n\t\t\t\t\t\t\t\t\twidth: '35%',\n\t\t\t\t\t\t\t\t\tmargin: '0 auto',\n\t\t\t\t\t\t\t\t\theight: null,\n\t\t\t\t\t\t\t\t\t// display: 'block',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsrc='http://localhost:1337/uploads/1184519ce10743f6904c8b435c801535.png'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<section className='wrapper'>\n\t\t\t\t\t\t\t{Object.entries(error).length !== 0 &&\n\t\t\t\t\t\t\t\terror.constructor === Object &&\n\t\t\t\t\t\t\t\terror.message.map((error) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div key={error.messages[0].id} style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t\t\t\t\t\t<small style={{ color: 'red' }}>{error.messages[0].message}</small>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t<fieldset disabled={loading}>\n\t\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t\t<Label>Email:</Label>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => onChange(event)}\n\t\t\t\t\t\t\t\t\t\t\tname='identifier'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 50, fontSize: '1.2em' }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t<FormGroup style={{ marginBottom: 30 }}>\n\t\t\t\t\t\t\t\t\t\t<Label>Password:</Label>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => onChange(event)}\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 50, fontSize: '1.2em' }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<a href=''>\n\t\t\t\t\t\t\t\t\t\t\t\t<small>Forgot Password?</small>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ float: 'right', width: 120 }}\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(true);\n\t\t\t\t\t\t\t\t\t\t\t\tlogin(data.identifier, data.password)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// set authed User in global context to update header/app state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappContext.setUser(res.data.user);\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//setError(error.response.data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? 'Loading... ' : 'Submit'}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<style jsx>\n\t\t\t\t{`\n\t\t\t\t\t.paper {\n\t\t\t\t\t\tborder: 1px solid lightgray;\n\t\t\t\t\t\tbox-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n\t\t\t\t\t\t\t0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\t\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\t\tmargin-top: 90px;\n\t\t\t\t\t}\n\t\t\t\t\t.notification {\n\t\t\t\t\t\tcolor: #ab003c;\n\t\t\t\t\t}\n\t\t\t\t\t.header {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 120px;\n\t\t\t\t\t\tbackground-color: #2196f3;\n\t\t\t\t\t\tmargin-bottom: 30px;\n\t\t\t\t\t\tborder-radius-top: 6px;\n\t\t\t\t\t}\n\t\t\t\t\t.wrapper {\n\t\t\t\t\t\tpadding: 10px 30px 20px 30px !important;\n\t\t\t\t\t}\n\t\t\t\t\ta {\n\t\t\t\t\t\tcolor: blue !important;\n\t\t\t\t\t}\n\t\t\t\t\timg {\n\t\t\t\t\t\tmargin: 15px 30px 10px 50px;\n\t\t\t\t\t}\n\t\t\t\t`}\n\t\t\t</style>\n\t\t</Container>\n\t);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}